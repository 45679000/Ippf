<div class="overall-wrap d-flex flex-column min-vh-100">
  <div class="navbar-holder">
      <app-top-header></app-top-header>
  </div>
  <div>
      <div class="my-4">
          <app-navbar></app-navbar>
      </div>
      
      <div class="container-fluid py-3" [class.load] = "load">
          <h2 class="lead-heading text-center">Select the dataset to visualize it's data</h2>
          <div class="col-12 top-form">
              <form action="" [formGroup]="datasetForm" >
                  <div class="mb-3 col-md-6 col-12 mx-auto">
                    <label for="" class="form-label">Choose the dataset</label>
                    <div>
                      <select class="sidebarInput col-12" name="" id="" formControlName="dataset" (change)="getListOfDatafiles()">
                          <option *ngFor="let item of datasets | keyvalue" value="{{item.value}}">{{item.value}}</option>
                        </select>
                    </div>

                    <label for="" class="form-label">Select the data file to visualize</label>
                    <select class="sidebarInput col-12" name="" id="" formControlName="datafile" (change)="setCsvFile()">
                      <option *ngFor="let item of dataFiles" value="{{item.id}}">{{item.name}}</option>
                    </select>
                  </div>
              </form>
          </div>
          <div class="spin" *ngIf="load">
            <div class="lds-roller">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
        <fm-pivot
          [toolbar]="true">
        </fm-pivot>
        <iframe *ngIf="displayIframe" [src]="transform(url)" title="W3Schools Free Online Web Tutorials" class="iframe"></iframe> 
      </div>
  </div>
  <app-footer class="mt-auto"></app-footer>
</div>